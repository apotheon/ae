<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: AE::Legacy::Assertions [AE]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <div class='name'>
          <span class='type'>Module</span>
          AE::Legacy::Assertions
        </div>
        <ol class='paths'>
          <li>
            <a href="../../../files/lib/ae/legacy_rb.html">lib/ae/legacy.rb</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <h1>Test::Unit Legacy <a href="Assertions.html">Assertions</a></h1>
            <p>
            This module provides a compatibility layer for Test::Unit. This is an
            optional module and is intended for providing an easier transition from
            Test::Unit::TestCase to Quarry Specifications.
            </p>
            <p>
            Note that two methods are not provided, <tt>assert_nothing_raised</tt>, and
            <tt>assert_nothing_thrown</tt>.
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000016">assert</a></li>
              <li><a href="#M000017">assert_block</a></li>
              <li><a href="#M000018">assert_equal</a></li>
              <li><a href="#M000019">assert_in_delta</a></li>
              <li><a href="#M000020">assert_instance_of</a></li>
              <li><a href="#M000021">assert_kind_of</a></li>
              <li><a href="#M000022">assert_match</a></li>
              <li><a href="#M000023">assert_nil</a></li>
              <li><a href="#M000024">assert_no_match</a></li>
              <li><a href="#M000025">assert_not_equal</a></li>
              <li><a href="#M000026">assert_not_nil</a></li>
              <li><a href="#M000027">assert_not_same</a></li>
              <li><a href="#M000028">assert_operator</a></li>
              <li><a href="#M000029">assert_raises</a></li>
              <li><a href="#M000030">assert_respond_to</a></li>
              <li><a href="#M000031">assert_same</a></li>
              <li><a href="#M000032">assert_send</a></li>
              <li><a href="#M000033">assert_throws</a></li>
              <li><a href="#M000034">flunk</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public instance methods</h2>
              <div class='public-instance method' id='method-M000016'>
                <a name='M000016'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert</span>
                  <span class='arguments'>(test=nil, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  The assertion upon which all other assertions are based.
                  </p>
                  <pre>assert [1, 2].include?(5)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000016-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000016-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 31</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">test</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">test</span>&#x000A;          <span class="ruby-identifier">msg</span> = <span class="ruby-value str">&quot;failed assertion (no message given)&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;          <span class="ruby-identifier">raise</span> <span class="ruby-constant">Assertion</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">msg</span>, <span class="ruby-identifier">caller</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">test</span>&#x000A;        <span class="ruby-keyword kw">else</span>&#x000A;          <span class="ruby-constant">Assertor</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">:backtrace=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">caller</span>)  <span class="ruby-comment cmt"># TODO: Probably remove this!</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000017'>
                <a name='M000017'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_block</span>
                  <span class='arguments'>(msg=nil) {|| ...}</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if the block yields true.
                  </p>
                  <p>
                  <a href="Assertions.html#M000017">assert_block</a> &#8220;Couldn&#8217;t do
                  the thing&#8221; do
                  </p>
                  <pre>do_the_thing</pre>
                  <p>
                  end
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000017-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000017-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 46</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_block</span>(<span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt"># :yields:</span>&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-operator">!</span> <span class="ruby-keyword kw">yield</span>&#x000A;        <span class="ruby-identifier">msg</span> = <span class="ruby-value str">&quot;assertion failed&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000018'>
                <a name='M000018'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_equal</span>
                  <span class='arguments'>(exp, act, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if expected == +actual.
                  </p>
                  <p>
                  Note that the ordering of arguments is important, since a helpful error
                  message is generated when this one fails that tells you the values of
                  expected and actual.
                  </p>
                  <pre>assert_equal 'MY STRING', 'my string'.upcase</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000018-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000018-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 60</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = (<span class="ruby-identifier">exp</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">act</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{act.inspect} to be equal to #{exp.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000019'>
                <a name='M000019'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_in_delta</span>
                  <span class='arguments'>(exp, act, delta, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if expected_float and actual_float are equal within delta tolerance.
                  </p>
                  <pre>assert_in_delta 0.05, (50000.0 / 10**6), 0.00001</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000019-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000019-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 70</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_in_delta</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">delta</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = (<span class="ruby-identifier">exp</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">act</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">abs</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">delta</span>.<span class="ruby-identifier">to_f</span>&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{exp} to be within #{delta} of #{act}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000020'>
                <a name='M000020'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_instance_of</span>
                  <span class='arguments'>(cls, obj, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if object .instance_of? klass
                  </p>
                  <pre>assert_instance_of String, 'foo'</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000020-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000020-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 80</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-identifier">cls</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = (<span class="ruby-identifier">cls</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">obj</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{obj} to be a #{cls}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000021'>
                <a name='M000021'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_kind_of</span>
                  <span class='arguments'>(cls, obj, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if object .kind_of? klass
                  </p>
                  <pre>assert_kind_of Object, 'foo'</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000021-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000021-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 90</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-identifier">cls</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-identifier">cls</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{obj.inspect} to be a kind of #{cls}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000022'>
                <a name='M000022'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_match</span>
                  <span class='arguments'>(exp, act, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if string =~ pattern.
                  </p>
                  <pre>assert_match(/\d+/, 'five, 6, seven')</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000022-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000022-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 100</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_match</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = (<span class="ruby-identifier">act</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">exp</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{act.inspect} to match #{exp.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000023'>
                <a name='M000023'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_nil</span>
                  <span class='arguments'>(obj, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if object is nil.
                  </p>
                  <pre>assert_nil [1, 2].uniq!</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000023-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000023-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 110</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">nil?</span>&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{obj.inspect} to be nil&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000024'>
                <a name='M000024'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_no_match</span>
                  <span class='arguments'>(exp, act, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if regexp !~ string
                  </p>
                  <pre>assert_no_match(/two/, 'one 2 three')</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000024-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000024-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 120</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = (<span class="ruby-identifier">act</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">exp</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{act.inspect} to match #{exp.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000025'>
                <a name='M000025'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_not_equal</span>
                  <span class='arguments'>(exp, act, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if expected != actual
                  </p>
                  <pre>assert_not_equal 'some string', 5</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000025-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000025-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 130</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_not_equal</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = (<span class="ruby-identifier">exp</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">act</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{act.inspect} to not be equal to #{exp.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000026'>
                <a name='M000026'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_not_nil</span>
                  <span class='arguments'>(obj, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if ! object .nil?
                  </p>
                  <pre>assert_not_nil '1 two 3'.sub!(/two/, '2')</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000026-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000026-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 140</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-operator">!</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">nil?</span>&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{obj.inspect} to not be nil&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000027'>
                <a name='M000027'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_not_same</span>
                  <span class='arguments'>(exp, act, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if ! actual .equal? expected
                  </p>
                  <pre>assert_not_same Object.new, Object.new</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000027-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000027-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 150</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_not_same</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-operator">!</span> <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-identifier">act</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{act.inspect} to not be the same as #{exp.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000028'>
                <a name='M000028'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_operator</span>
                  <span class='arguments'>(o1, op, o2, msg=&quot;&quot;)</span>
                </div>
                <div class='description'>
                  <p>
                  Compares the <tt>object1</tt> with <tt>object2</tt> using operator.
                  </p>
                  <p>
                  Passes if object1.send(operator, object2) is true.
                  </p>
                  <pre>assert_operator 5, :&gt;=, 4</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000028-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000028-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 162</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_operator</span>(<span class="ruby-identifier">o1</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">o2</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-value str">&quot;&quot;</span>)&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">o1</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">op</span>, <span class="ruby-identifier">o2</span>)&#x000A;        <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;Expected #{o1}.#{op}(#{o2}) to be true&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000029'>
                <a name='M000029'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_raises</span>
                  <span class='arguments'>(*args) {|| ...}</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if the block raises one of the given exceptions.
                  </p>
                  <pre>assert_raise RuntimeError, LoadError do&#x000A;  raise 'Boom!!!'&#x000A;end</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000029-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000029-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 174</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_raises</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">msg</span> = (<span class="ruby-constant">Module</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span>)&#x000A;        <span class="ruby-keyword kw">begin</span>&#x000A;          <span class="ruby-keyword kw">yield</span>&#x000A;          <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;Expected #{exp} to be raised&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;          <span class="ruby-identifier">__assert__</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">msg</span>)&#x000A;        <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>&#x000A;          <span class="ruby-identifier">test</span> = (<span class="ruby-identifier">exp</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">e</span>)&#x000A;          <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{exp} to be raised, but got #{e.class}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;          <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">e</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;      <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:assert_raise</span>, <span class="ruby-identifier">:assert_raises</span>&#x000A;&#x000A;      <span class="ruby-comment cmt"># Provides a way to assert that a procedure</span>&#x000A;      <span class="ruby-comment cmt"># &lt;i&gt;does not&lt;/i&gt; raise an exception.</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-comment cmt">#   refute_raises(StandardError){ raise }</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-comment cmt">#def assert_raises!(exception, &amp;block)</span>&#x000A;      <span class="ruby-comment cmt">#  begin</span>&#x000A;      <span class="ruby-comment cmt">#    block.call(*a)</span>&#x000A;      <span class="ruby-comment cmt">#  rescue exception</span>&#x000A;      <span class="ruby-comment cmt">#    raise Assertion</span>&#x000A;      <span class="ruby-comment cmt">#  end</span>&#x000A;      <span class="ruby-comment cmt">#end</span>&#x000A;      <span class="ruby-comment cmt">#alias_method :refute_raises, :assert_raises!</span>&#x000A;&#x000A;      <span class="ruby-comment cmt"># Passes if +object+ respond_to? +method+.</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-comment cmt">#   assert_respond_to 'bugbear', :slice</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_respond_to</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">meth</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{obj} (#{obj.class}) to respond to ##{meth}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-comment cmt">#flip = (Symbol === obj) &amp;&amp; ! (Symbol === meth) # HACK for specs</span>&#x000A;        <span class="ruby-comment cmt">#obj, meth = meth, obj if flip</span>&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">meth</span>)&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;      <span class="ruby-comment cmt"># Passes if +actual+ .equal? +expected+ (i.e. they are the same instance).</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-comment cmt">#   o = Object.new</span>&#x000A;      <span class="ruby-comment cmt">#   assert_same(o, o)</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_same</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{act.inspect} to be the same as #{exp.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-identifier">act</span>)&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;      <span class="ruby-comment cmt"># Passes if the method send returns a true value.</span>&#x000A;      <span class="ruby-comment cmt"># The parameter +send_array+ is composed of:</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-comment cmt"># * A receiver</span>&#x000A;      <span class="ruby-comment cmt"># * A method</span>&#x000A;      <span class="ruby-comment cmt"># * Arguments to the method</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-comment cmt"># Example:</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-comment cmt">#   assert_send [[1, 2], :include?, 4]</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_send</span>(<span class="ruby-identifier">send_array</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">r</span>, <span class="ruby-identifier">m</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">send_array</span>&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">m</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{r}.#{m}(*#{args.inspect}) to return true&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;      <span class="ruby-comment cmt"># Passes if the block throws expected_symbol</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-comment cmt">#   assert_throws :done do</span>&#x000A;      <span class="ruby-comment cmt">#     throw :done</span>&#x000A;      <span class="ruby-comment cmt">#   end</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_throws</span>(<span class="ruby-identifier">sym</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{sym} to have been thrown&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-keyword kw">true</span>&#x000A;        <span class="ruby-identifier">catch</span>(<span class="ruby-identifier">sym</span>) <span class="ruby-keyword kw">do</span>&#x000A;          <span class="ruby-keyword kw">begin</span>&#x000A;            <span class="ruby-keyword kw">yield</span>&#x000A;          <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>     <span class="ruby-comment cmt"># 1.9 exception</span>&#x000A;            <span class="ruby-identifier">default</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;, not #{e.message.split(/ /).last}&quot;</span>&#x000A;          <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>         <span class="ruby-comment cmt"># 1.8 exception</span>&#x000A;            <span class="ruby-identifier">default</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;, not #{e.name.inspect}&quot;</span>&#x000A;          <span class="ruby-keyword kw">end</span>&#x000A;          <span class="ruby-identifier">test</span> = <span class="ruby-keyword kw">false</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;      <span class="ruby-comment cmt"># Flunk always fails.</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-comment cmt">#   flunk 'Not done testing yet.'</span>&#x000A;      <span class="ruby-comment cmt">#</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flunk</span>(<span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000030'>
                <a name='M000030'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_respond_to</span>
                  <span class='arguments'>(obj, meth, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if <tt>object</tt> respond_to? <tt>method</tt>.
                  </p>
                  <pre>assert_respond_to 'bugbear', :slice</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000030-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000030-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 208</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_respond_to</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">meth</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{obj} (#{obj.class}) to respond to ##{meth}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-comment cmt">#flip = (Symbol === obj) &amp;&amp; ! (Symbol === meth) # HACK for specs</span>&#x000A;        <span class="ruby-comment cmt">#obj, meth = meth, obj if flip</span>&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">meth</span>)&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000031'>
                <a name='M000031'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_same</span>
                  <span class='arguments'>(exp, act, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if <tt>actual</tt> .equal? <tt>expected</tt> (i.e. they are the same
                  instance).
                  </p>
                  <pre>o = Object.new&#x000A;assert_same(o, o)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000031-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000031-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 221</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_same</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{act.inspect} to be the same as #{exp.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-identifier">act</span>)&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000032'>
                <a name='M000032'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_send</span>
                  <span class='arguments'>(send_array, msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if the method send returns a true value. The parameter
                  <tt>send_array</tt> is composed of:
                  </p>
                  <ul>
                  <li>A receiver
                  
                  </li>
                  <li>A method
                  
                  </li>
                  <li>Arguments to the method
                  
                  </li>
                  </ul>
                  <p>
                  Example:
                  </p>
                  <pre>assert_send [[1, 2], :include?, 4]</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000032-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000032-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 238</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_send</span>(<span class="ruby-identifier">send_array</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">r</span>, <span class="ruby-identifier">m</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">send_array</span>&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">m</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{r}.#{m}(*#{args.inspect}) to return true&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000033'>
                <a name='M000033'>      </a>
                <div class='synopsis'>
                  <span class='name'>assert_throws</span>
                  <span class='arguments'>(sym, msg=nil) {|| ...}</span>
                </div>
                <div class='description'>
                  <p>
                  Passes if the block throws expected_symbol
                  </p>
                  <pre>assert_throws :done do&#x000A;  throw :done&#x000A;end</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000033-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000033-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 251</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_throws</span>(<span class="ruby-identifier">sym</span>, <span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">msg</span>  = <span class="ruby-node">&quot;Expected #{sym} to have been thrown&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msg</span>&#x000A;        <span class="ruby-identifier">test</span> = <span class="ruby-keyword kw">true</span>&#x000A;        <span class="ruby-identifier">catch</span>(<span class="ruby-identifier">sym</span>) <span class="ruby-keyword kw">do</span>&#x000A;          <span class="ruby-keyword kw">begin</span>&#x000A;            <span class="ruby-keyword kw">yield</span>&#x000A;          <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>     <span class="ruby-comment cmt"># 1.9 exception</span>&#x000A;            <span class="ruby-identifier">default</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;, not #{e.message.split(/ /).last}&quot;</span>&#x000A;          <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>         <span class="ruby-comment cmt"># 1.8 exception</span>&#x000A;            <span class="ruby-identifier">default</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;, not #{e.name.inspect}&quot;</span>&#x000A;          <span class="ruby-keyword kw">end</span>&#x000A;          <span class="ruby-identifier">test</span> = <span class="ruby-keyword kw">false</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000034'>
                <a name='M000034'>      </a>
                <div class='synopsis'>
                  <span class='name'>flunk</span>
                  <span class='arguments'>(msg=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Flunk always fails.
                  </p>
                  <pre>flunk 'Not done testing yet.'</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000034-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000034-source'><span class="ruby-comment cmt"># File lib/ae/legacy.rb, line 271</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flunk</span>(<span class="ruby-identifier">msg</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;        <span class="ruby-identifier">__assert__</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">msg</span>)&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
