<html>

<head>
<title>LOCat - The LOCat on AE</title>

<style>
  body{ background: white; padding: 5px 30px; }
  table{ border-collapse:collapse; }
  table,th,td{ border: 1px solid #ccc; }
  th,td{ padding: 0.5em 1em; margin: 0; }
  h1{ font-size: 2.5em; }
  h2{ font-size: 2.0em; }
  button{ background: transparent; border: 1px solid #ccc; padding: 10px;
    border-bottom: 0; font-weight: bold;
  }
  button:hover{ background: yellow; }

  #footer{ font-size: 0.8em; color: #666; padding-top: 5px; }

  .tab{ padding: 20px; border: 1px solid #ccc; }
  .chart{ padding-bottom: 40px; }
  .chart-select{ text-align: left; font-size: 12px; padding-left: 20px; }
</style>

<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/highcharts/2.1.5/highcharts.js" type="text/javascript"></script>

<script>

function create_chart(chart_id, chart_table, chart_type){
  options = chart_options(chart_id, chart_table, chart_type);
  return(new Highcharts.Chart(options));
};

function chart_options(chart_id, chart_table, chart_type){
  options = {
      chart: {
          renderTo: 'container-' + chart_id,
          type: chart_type
      },
      title: {
          text: chart_id
      },
      tooltip: {
          enable: true 
      },
      xAxis: {
          categories: []
      },
      yAxis: {
          title: {
              text: '' //chart_id
          }
      },
      series: []
  };

  $.each(chart_table, function(lineNo, line) {
      // header line containes categories
      if (lineNo == 0) {
          $.each(line, function(itemNo, item) {
              if (itemNo > 0) options.xAxis.categories.push(item);
          });
      }
      // the rest of the lines contain data with their name in the first position
      else {
          var series = {
              data: []
          };
          $.each(line, function(itemNo, item) {
              if (itemNo == 0) {
                  series.name = item;
                  //series.type = chart_type;
              } else {
                  series.data.push(parseFloat(item));
              }
          });
          options.series.push(series);
      }
  });
  return(options);
};


</script>

<script>
var data = {"loc":[[null,"Code","Blank","Comment","Test"],["loc",884,223,662,416]],"pcnt":[[null,"Code","Blank","Comment","Test"],["%",40,10,30,19]],"ratio":[[null,"Code","Blank","Comment","Test","Total"],["Code",1.0,0.252,0.749,0.471,2.472],["Blank",3.964,1.0,2.969,1.865,9.798],["Comment",1.335,0.337,1.0,0.628,3.301],["Test",2.125,0.536,1.591,1.0,5.252],["Total",0.405,0.102,0.303,0.19,1.0]],"scm":[[null,"09 08 21","09 09 02","09 09 03","09 09 25","09 10 06","10 01 27","10 01 27","10 06 05","10 06 08","10 06 17","10 09 02","10 09 06","10 09 06","10 11 04","10 11 05","10 11 30","10 12 15","11 02 23","11 04 19","11 04 28","11 05 03","11 05 07","11 05 07","11 05 15","11 06 06","11 06 30"],["Code",321,361,303,499,499,500,504,520,522,542,671,756,781,795,803,797,841,854,846,816,816,858,851,852,863,884],["Blank",90,87,82,122,122,122,123,128,129,138,170,192,203,210,210,209,224,222,222,217,217,215,213,213,216,223],["Comment",238,212,182,371,371,370,373,369,369,372,414,431,469,488,488,491,501,506,517,534,534,509,513,513,529,662],["Test",0,280,290,289,0,0,0,367,367,382,404,413,413,413,413,413,413,416,416,416,416,416,416,416,416,416],["Total",649,940,857,1281,992,992,1000,1384,1387,1434,1659,1792,1866,1906,1914,1910,1979,1998,2001,1983,1983,1998,1993,1994,2024,2185]]};
</script>

<script>
  var chart = {};

  $(document).ready(function() {
    chart['pcnt']  = create_chart('pcnt',  data['pcnt'],  'pie');
    chart['loc']   = create_chart('loc',   data['loc'],   'column');
    chart['ratio'] = create_chart('ratio', data['ratio'], 'column');
    chart['scm']   = create_chart('scm',   data['scm'],   'line');
  });
</script>

<script>
  function rechart(chart_id, chart_type){
    chart[chart_id].destroy();
    chart[chart_id] = create_chart(chart_id, data[chart_id], chart_type);
  };

  function change_tab(chart_id){
    $('.tab').hide(function(){
      $('#tab-' + chart_id).show();
    });
  };
</script>
</head>

<body>
  <h1>The LOCat on AE</h1>

  <div id="nav">
    <button onclick="change_tab('loc');">LOC</button>
    <button onclick="change_tab('pcnt');">Percent</button>
    <button onclick="change_tab('ratio');">Ratio</button>
    
      <button onclick="change_tab('scm');">SCM</button>
    
  </div>

  <!-- LOC CHART -->

  <div id="tab-loc" class="tab">

    <h2>LOC</h2>

    <div class="chart">
      <table id="loc" border="1">
        <thead>
        <tr>
        
          <th>Code</th>
        
          <th>Blank</th>
        
          <th>Comment</th>
        
          <th>Test</th>
        
        <th>Total</th>
        </tr>
        </thead>
        <tbody>
          <tr>
          
            <td>884</td>
          
            <td>223</td>
          
            <td>662</td>
          
            <td>416</td>
          
          <td>2185</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div id="container-loc" style="width: 95%; height: 450px;"></div>

    <div class="chart-select">
      <input type="radio" name="ratio" value="column"     onclick="rechart('loc', 'column');" />     Column
      <input type="radio" name="ratio" value="bar"        onclick="rechart('loc', 'bar');" />        Bar
      <input type="radio" name="ratio" value="scatter"    onclick="rechart('loc', 'scatter');" />    Scatter
      <!--
      <input type="radio" name="ratio" value="line"       onclick="rechart('loc', 'line');" />       Line
      <input type="radio" name="ratio" value="spline"     onclick="rechart('loc', 'spline');" />     Spline
      <input type="radio" name="ratio" value="area"       onclick="rechart('loc', 'area');" />       Area
      <input type="radio" name="ratio" value="areaspline" onclick="rechart('loc', 'areaspline');" /> Area Spline
      -->
      <input type="radio" name="ratio" value="pie"        onclick="rechart('loc', 'pie');" />        Pie Chart
    </div>

  </div>

  <!-- PERCENTAGE CHART -->

  <div id="tab-pcnt" class="tab" style="display: none;">

    <h2>PERECNT</h2>

    <div class="chart">
      <table id="pcnt">
        <thead>
        <tr>
        
          <th scope="col"></th>
        
          <th scope="col">Code</th>
        
          <th scope="col">Blank</th>
        
          <th scope="col">Comment</th>
        
          <th scope="col">Test</th>
        
        </tr>
        </thead>
        <tbody>
        
          <tr>
            
              
                <th>%</th>
              
            
              
                <td>40</td>
              
            
              
                <td>10</td>
              
            
              
                <td>30</td>
              
            
              
                <td>19</td>
              
            
          </tr>
        
        </tbody>
      </table>
    </div>

    <div id="container-pcnt" style="width: 95%; height: 450px;"></div>

    <div class="chart-select">
      <input type="radio" name="ratio" value="column"     onclick="rechart('pcnt', 'column');" />     Column
      <input type="radio" name="ratio" value="bar"        onclick="rechart('pcnt', 'bar');" />        Bar
      <input type="radio" name="ratio" value="scatter"    onclick="rechart('pcnt', 'scatter');" />    Scatter
      <!--
      <input type="radio" name="ratio" value="line"       onclick="rechart('pcnt', 'line');" />       Line
      <input type="radio" name="ratio" value="spline"     onclick="rechart('pcnt', 'spline');" />     Spline
      <input type="radio" name="ratio" value="area"       onclick="rechart('pcnt', 'area');" />       Area
      <input type="radio" name="ratio" value="areaspline" onclick="rechart('pcnt', 'areaspline');" /> Area Spline
      -->
      <input type="radio" name="ratio" value="pie"        onclick="rechart('pcnt', 'pie');" />        Pie Chart
    </div>

  </div>

  <!-- RATIO CHART -->

  <div id="tab-ratio" class="tab" style="display: none;">

    <h2>RATIOS</h2>

    <div class="chart">
      <table id="ratio">
        <thead>
        <tr>
        
          <th scope="col"></th>
        
          <th scope="col">Code</th>
        
          <th scope="col">Blank</th>
        
          <th scope="col">Comment</th>
        
          <th scope="col">Test</th>
        
          <th scope="col">Total</th>
        
        </tr>
        </thead>
        <tbody>
        
          <tr>
            
              
                <th>Code</th>
              
            
              
                <td>1.0</td>
              
            
              
                <td>0.252</td>
              
            
              
                <td>0.749</td>
              
            
              
                <td>0.471</td>
              
            
              
                <td>2.472</td>
              
            
          </tr>
        
          <tr>
            
              
                <th>Blank</th>
              
            
              
                <td>3.964</td>
              
            
              
                <td>1.0</td>
              
            
              
                <td>2.969</td>
              
            
              
                <td>1.865</td>
              
            
              
                <td>9.798</td>
              
            
          </tr>
        
          <tr>
            
              
                <th>Comment</th>
              
            
              
                <td>1.335</td>
              
            
              
                <td>0.337</td>
              
            
              
                <td>1.0</td>
              
            
              
                <td>0.628</td>
              
            
              
                <td>3.301</td>
              
            
          </tr>
        
          <tr>
            
              
                <th>Test</th>
              
            
              
                <td>2.125</td>
              
            
              
                <td>0.536</td>
              
            
              
                <td>1.591</td>
              
            
              
                <td>1.0</td>
              
            
              
                <td>5.252</td>
              
            
          </tr>
        
          <tr>
            
              
                <th>Total</th>
              
            
              
                <td>0.405</td>
              
            
              
                <td>0.102</td>
              
            
              
                <td>0.303</td>
              
            
              
                <td>0.19</td>
              
            
              
                <td>1.0</td>
              
            
          </tr>
        
        </tbody>
      </table>
    </div>

    <div id="container-ratio" style="width: 95%; height: 450px;"></div>

    <div class="chart-select">
      <input type="radio" name="ratio" value="column"     onclick="rechart('ratio', 'column');" />     Column
      <input type="radio" name="ratio" value="bar"        onclick="rechart('ratio', 'bar');" />        Bar
      <input type="radio" name="ratio" value="scatter"    onclick="rechart('ratio', 'scatter');" />    Scatter
      <!--
      <input type="radio" name="ratio" value="line"       onclick="rechart('ratio', 'line');" />       Line
      <input type="radio" name="ratio" value="spline"     onclick="rechart('ratio', 'spline');" />     Spline
      <input type="radio" name="ratio" value="area"       onclick="rechart('ratio', 'area');" />       Area
      <input type="radio" name="ratio" value="areaspline" onclick="rechart('ratio', 'areaspline');" /> Area Spline
      <input type="radio" name="ratio" value="pie"        onclick="rechart('ratio', 'pie');" />        Pie Chart
      -->
    </div>

  </div>



  <!-- SCM CHART -->

  <div id="tab-scm" class="tab" style="display: none;">

    <div id="container-scm" style="width: 95%; height: 450px;"></div>

    <div class="chart-select">
      <input type="radio" name="ratio" value="column"     onclick="rechart('scm', 'column');" />     Column
      <input type="radio" name="ratio" value="scatter"    onclick="rechart('scm', 'scatter');" />    Scatter
      <input type="radio" name="ratio" value="line"       onclick="rechart('scm', 'line');" />       Line
      <input type="radio" name="ratio" value="spline"     onclick="rechart('scm', 'spline');" />     Spline
      <!--
      <input type="radio" name="ratio" value="area"       onclick="rechart('scm', 'area');" />       Area
      <input type="radio" name="ratio" value="areaspline" onclick="rechart('scm', 'areaspline');" /> Area Spline
      <input type="radio" name="ratio" value="pie"        onclick="rechart('scm', 'pie');" />        Pie Chart
      -->
    </div>

  </div>



  <!-- FOOTER -->

  <div id="footer">
    <a href="http://rubyworks.github.com/locat">LOCat v0.1.0</a>,
    Copyright &copy; 2011 Thomas Sawyer, <a href="http://rubyworks.github.com">Rubyworks</a>
  </div>

</body>

</html>
